<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph√¢n t√≠ch Chuy√™n s√¢u: H·ªá l·ª•y Ngo√†i "Th·ªëi N√£o"</title>
    <script src="https://cdn.tailwindcss.com"></script>
            <script src="common.js"></script>

    <!-- Th√™m v√†o sau c√°c link font -->
<link rel="stylesheet" href="common.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 320px; max-height: 400px; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(226, 232, 240, 0.8); }
        .active-link { color: #f97316; border-bottom: 2px solid #f97316; }
        .nav-link { transition: all 0.3s ease; cursor: pointer; }
        .nav-link:hover { color: #fb923c; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      
        .animate-slide-up { animation: slideUp 0.5s ease-out forwards; }
    @media (prefers-reduced-motion: reduce) {
      .icon-btn, .btn, .pill, .avatar, .more-info-btn, body::before, body::after, .detail, .bottom-nav, .avatar-wrap { 
        transition: none; 
        animation: none; 
      }
    }
     @media screen and (max-width: 480px) {
      .bottom-nav-item i {
        font-size: 18px;
      }
    }

    .bottom-nav-item.active {
      color: var(--brand);
      background: rgba(16, 185, 129, 0.1);
      transform: scale(1.05);
    }

    .bottom-nav-item:hover {
      color: var(--brand);
      background: rgba(16, 185, 129, 0.05);
      transform: scale(1.1);
    }
     @media screen and (max-width: 768px) {
      .bottom-nav-item {
        padding: 8px 2px;
      }
    }

    @media screen and (max-width: 480px) {
      .bottom-nav-item {
        padding: 6px 1px;
        font-size: 10px;
        gap: 2px;
        min-width: 50px;
      }
    }

    .bottom-nav-item i {
      font-size: 21px;
    }
      /* Bottom Navigation - Glass Style (C·∫≠p nh·∫≠t ƒë·ªÉ items lu√¥n ·ªü gi·ªØa) */
    .bottom-nav {
      position: fixed;
      bottom: 20px;
      left: 40%;
      transform: translateX(-50%);
      width: auto;
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50px;
      padding: 8px 20px;
      display: flex;
      gap: 20px;
      justify-content: center; /* Th√™m ƒë·ªÉ items ·ªü gi·ªØa container */
      z-index: 50;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      animation: liquidFloat 4s ease-in-out infinite;
      max-width: 90vw;
    }

    @media screen and (max-width: 768px) {
      .bottom-nav {
        width: 50%;
        left: 10%;
        transform: none;
        justify-content: center; /* Thay space-around b·∫±ng center ƒë·ªÉ items ·ªü gi·ªØa m√†n h√¨nh mobile */
        max-width: none;
        padding: 8px 0;
        gap: 10px; /* Gi·∫£m gap tr√™n mobile ƒë·ªÉ v·ª´a m√†n h√¨nh */
        border-radius: 25px;
        bottom: 10px;
      }
    }

    @media screen and (max-width: 480px) {
      .bottom-nav {
        padding: 6px 0;
        bottom: 5px;
        border-radius: 20px;
        gap: 5px; /* Gi·∫£m th√™m gap cho m√†n h√¨nh nh·ªè */
      }
    }

    .bottom-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      color: var(--muted);
      text-decoration: none;
      font-size: 12px;
      transition: all 0.3s ease;
      padding: 8px 4px;
      flex: 1;
      border-radius: 12px;
      min-width: 60px; /* ƒê·∫£m b·∫£o m·ªói item c√≥ chi·ªÅu r·ªông t·ªëi thi·ªÉu ƒë·ªÉ c√¢n b·∫±ng */
    }

    @media screen and (max-width: 768px) {
      .bottom-nav-item {
        padding: 8px 2px;
      }
    }

    @media screen and (max-width: 480px) {
      .bottom-nav-item {
        padding: 6px 1px;
        font-size: 10px;
        gap: 2px;
        min-width: 50px;
      }
    }

    .bottom-nav-item i {
      font-size: 21px;
    }

    @media screen and (max-width: 480px) {
      .bottom-nav-item i {
        font-size: 18px;
      }
    }

    .bottom-nav-item.active {
      color: var(--brand);
      background: rgba(16, 185, 129, 0.1);
      transform: scale(1.05);
    }

    .bottom-nav-item:hover {
      color: var(--brand);
      background: rgba(16, 185, 129, 0.05);
      transform: scale(1.1);
    }
    </style>
    <!-- Chosen Palette: Slate & Orange (Background: #f8fafc, Accent: #f97316, Text: #1e293b) -->
    <!-- Application Structure Plan: 
         The app focuses on "The Hidden Layers" of porn impact beyond basic neuroplasticity. 
         - Section 1: Hormonal Imbalance (Testosterone vs Cortisol). 
         - Section 2: Physical Desensitization (The "Death Grip" and Refractory issues). 
         - Section 3: Social & Relationship Mechanics (Objectification). 
         - Section 4: AI Insights (Gemini integration to dive deeper into specific user concerns). 
         Layout: Modular cards with dynamic JS switching. -->
    <!-- Visualization & Content Choices:
         - Hormones: Grouped Bar Chart to show Normal vs Addicted levels.
         - Physical: Progress bars and interactive toggles.
         - Relationships: Radar chart to compare Empathy vs Objectification.
         - AI: Direct chat interaction with Gemini 2.5 Flash for personalized synthesis.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header Navigation -->
    <header class="glass-card sticky top-0 z-50 px-6 py-4 shadow-sm">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white font-bold">D</div>
                <span class="text-xl font-bold tracking-tight text-slate-800">Deep<span class="text-orange-500">Dive</span></span>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm font-semibold text-slate-500">
                <a onclick="showView('hormones')" id="nav-hormones" class="nav-link active-link">Hormone & Th·ªÉ ch·∫•t</a>
                <a onclick="showView('social')" id="nav-social" class="nav-link">T√¢m l√Ω & X√£ h·ªôi</a>
                <a onclick="showView('ai-expert')" id="nav-ai-expert" class="nav-link bg-orange-100 px-3 py-1 rounded-full text-orange-600">H·ªèi ƒë√°p AI ‚ú®</a>
            </nav>
            <div class="md:hidden">
                <select onchange="showView(this.value)" class="bg-slate-100 border-none rounded-lg p-2 text-sm">
                    <option value="hormones">Hormone & Th·ªÉ ch·∫•t</option>
                    <option value="social">T√¢m l√Ω & X√£ h·ªôi</option>
                    <option value="ai-expert">H·ªèi ƒë√°p AI ‚ú®</option>
                </select>
            </div>
        </div>
    </header>

    <!-- Main View -->
    <main class="flex-grow p-4 md:p-8">
        <div class="max-w-5xl mx-auto space-y-12">

            <!-- INTRO -->
            <div class="text-center space-y-4">
                <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900">B√™n d∆∞·ªõi b·ªÅ m·∫∑t c·ªßa "Th·ªëi N√£o"</h1>
                <p class="text-slate-500 max-w-2xl mx-auto italic">
                    Nghi√™n c·ª©u v·ªÅ c√°c t√°c ƒë·ªông sinh h√≥a v√† c∆° ch·∫ø ph·∫£n x·∫° m√† phim khi√™u d√¢m ƒë√£ √¢m th·∫ßm thay ƒë·ªïi trong b·∫°n.
                </p>
            </div>

            <!-- VIEW: HORMONES -->
            <section id="view-hormones" class="animate-slide-up space-y-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <h2 class="text-xl font-bold text-slate-800 mb-4">S·ª± h·ªón lo·∫°n c·ªßa Hormone</h2>
                            <p class="text-sm text-slate-600 leading-relaxed">
                                Phim khi√™u d√¢m kh√¥ng ch·ªâ l√†m m·ªát m·ªèi c√°c t·∫ø b√†o th·∫ßn kinh, n√≥ c√≤n ph√° v·ª° c√¢n b·∫±ng n·ªôi ti·∫øt. Khi b·∫°n xem, c∆° th·ªÉ r∆°i v√†o tr·∫°ng th√°i "gi·∫£ l·∫≠p" cƒÉng th·∫≥ng v√† h∆∞ng ph·∫•n c·ª±c ƒë·ªô li√™n t·ª•c.
                            </p>
                            <ul class="mt-4 space-y-3">
                                <li class="flex items-start space-x-2 text-sm">
                                    <span class="text-orange-500 font-bold">‚Ä¢</span>
                                    <span><strong>Cortisol tƒÉng cao:</strong> Tr·∫°ng th√°i h∆∞ng ph·∫•n k√©o d√†i khi·∫øn c∆° th·ªÉ ti·∫øt ra hormone stress, g√¢y vi√™m nh·∫π h·ªá th·ªëng.</span>
                                </li>
                                <li class="flex items-start space-x-2 text-sm">
                                    <span class="text-orange-500 font-bold">‚Ä¢</span>
                                    <span><strong>Testosterone ·∫£o:</strong> S·ª± b√πng n·ªï testosterone ng·∫Øn h·∫°n khi xem th∆∞·ªùng d·∫´n ƒë·∫øn s·ª± s·ª•t gi·∫£m s√¢u sau ƒë√≥, g√¢y m·ªát m·ªèi v√† m·∫•t ƒë·ªông l·ª±c.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                        <div class="chart-container">
                            <canvas id="hormoneChart"></canvas>
                        </div>
                        <p class="text-[10px] text-center text-slate-400 mt-4 italic">*D·ªØ li·ªáu m√¥ ph·ªèng d·ª±a tr√™n c√°c ch·ªâ s·ªë sinh h√≥a ph·ªï bi·∫øn ·ªü ng∆∞·ªùi nghi·ªán h√†nh vi.</p>
                    </div>
                </div>

                <div class="bg-orange-50 p-6 rounded-2xl border border-orange-100">
                    <h3 class="font-bold text-orange-800 mb-2 italic">B·∫°n c√≥ bi·∫øt v·ªÅ "C∆° ch·∫ø Ph·∫£n x·∫° Sai l·ªách"?</h3>
                    <p class="text-sm text-orange-700">
                        Vi·ªác t·ª± k√≠ch th√≠ch v·ªõi phim khi√™u d√¢m t·∫°o ra s·ª± l·ªách pha gi·ªØa <strong>m·∫Øt</strong> v√† <strong>x√∫c gi√°c</strong>. C∆° th·ªÉ b·∫°n h·ªçc c√°ch ch·ªâ h∆∞ng ph·∫•n v·ªõi h√¨nh ·∫£nh 2D t·ªëc ƒë·ªô cao, d·∫´n ƒë·∫øn t√¨nh tr·∫°ng "li·ªát ·∫£o" (PIED) khi ƒë·ªëi di·ªán v·ªõi con ng∆∞·ªùi th·ª±c.
                    </p>
                </div>
            </section>

            <!-- VIEW: SOCIAL -->
            <section id="view-social" class="hidden animate-slide-up space-y-8 text-center">
                <div class="max-w-3xl mx-auto space-y-6">
                    <h2 class="text-2xl font-bold text-slate-800">S·ª± s·ª•p ƒë·ªï c·ªßa kh·∫£ nƒÉng th·∫•u c·∫£m</h2>
                    <p class="text-slate-600 text-sm">
                        Phim khi√™u d√¢m hu·∫•n luy·ªán n√£o b·ªô nh√¨n nh·∫≠n con ng∆∞·ªùi nh∆∞ nh·ªØng <strong>v·∫≠t th·ªÉ (Objectification)</strong> thay v√¨ nh·ªØng c√° th·ªÉ c√≥ c·∫£m x√∫c. ƒêi·ªÅu n√†y ph√° h·ªßy kh·∫£ nƒÉng thi·∫øt l·∫≠p m·ªëi quan h·ªá s√¢u s·∫Øc.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm text-left">
                            <h4 class="font-bold text-slate-800 mb-2">Thang ƒëo S·ª± v·∫≠t h√≥a</h4>
                            <div class="chart-container">
                                <canvas id="radarChart"></canvas>
                            </div>
                        </div>
                        <div class="flex flex-col justify-center space-y-4 text-left">
                            <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                                <h5 class="font-bold text-slate-700 text-sm">M·∫•t kh·∫£ nƒÉng "Social Reading"</h5>
                                <p class="text-xs text-slate-500 mt-1">Kh√≥ khƒÉn trong vi·ªác ƒë·ªçc hi·ªÉu c·∫£m x√∫c v√† ng√¥n ng·ªØ c∆° th·ªÉ c·ªßa ng∆∞·ªùi kh√°c gi·ªõi trong ƒë·ªùi th·ª±c.</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                                <h5 class="font-bold text-slate-700 text-sm">S·ª± c√¥ l·∫≠p t·ª± nguy·ªán</h5>
                                <p class="text-xs text-slate-500 mt-1">C·∫£m th·∫•y th·∫ø gi·ªõi th·ª±c "nh√†m ch√°n" v√† "ch·∫≠m ch·∫°p" so v·ªõi nh·ªØng g√¨ di·ªÖn ra trong phim.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- VIEW: AI EXPERT -->
            <section id="view-ai-expert" class="hidden animate-slide-up space-y-6">
                <div class="bg-white p-6 md:p-10 rounded-3xl shadow-xl border border-orange-100 ai-glow">
                    <div class="flex items-center space-x-3 mb-6">
                        <span class="text-3xl">‚ú®</span>
                        <div>
                            <h2 class="text-2xl font-bold text-slate-900">Ph√¢n t√≠ch s√¢u c√πng Tr·ª£ l√Ω AI</h2>
                            <p class="text-xs text-slate-500 uppercase tracking-widest font-bold">Powered by Gemini 2.5 Flash</p>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="relative">
                            <textarea id="user-input" rows="3" class="w-full p-4 pr-12 text-sm border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:outline-none transition-all" placeholder="V√≠ d·ª•: PIED c√≥ ph·ª•c h·ªìi ƒë∆∞·ª£c kh√¥ng? Ho·∫∑c phim sex ·∫£nh h∆∞·ªüng th·∫ø n√†o ƒë·∫øn s·ª± t·∫≠p trung trong c√¥ng vi·ªác?"></textarea>
                            <button onclick="askAI()" id="btn-ask" class="absolute right-3 bottom-3 bg-orange-500 text-white p-2 rounded-xl hover:bg-orange-600 transition-colors">
                                <span id="btn-text">üöÄ</span>
                                <div id="ai-loader" class="hidden w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                            </button>
                        </div>
                        
                        <div id="ai-response-box" class="hidden p-6 bg-slate-50 rounded-2xl border border-slate-200 min-h-[150px] relative">
                            <div class="absolute top-2 right-4 flex space-x-2">
                                <button onclick="speakResponse()" class="text-xs text-slate-400 hover:text-orange-500 font-bold">Nghe ‚ú®</button>
                                <button onclick="copyResponse()" class="text-xs text-slate-400 hover:text-orange-500 font-bold">Sao ch√©p</button>
                            </div>
                            <div id="ai-text-output" class="text-sm text-slate-700 leading-relaxed prose prose-sm max-w-none"></div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>
  <nav class="bottom-nav">
    <a href="index.html" class="bottom-nav-item active">
      <i class='bx bx-home'></i>
      <span>Home</span>
    </a>
    <a href="brainot.html" class="bottom-nav-item">
      <i class='bx bx-grid-alt'></i>
      <span>BrainRot</span>
    </a>
    <a href="Pornography.html" class="bottom-nav-item">
      <i class='bx bx-book'></i>
      <span>Pornography</span>
    </a>
     <a href="DeepDive.html" class="bottom-nav-item">
      <i class='bx bx-book'></i>
      <span>DeepDive</span>
    </a>
  </nav>
    <footer class="p-8 text-center text-slate-400 text-xs border-t border-slate-100">
        <p>¬© 2025 B√°o c√°o Ph√¢n t√≠ch Chuy√™n s√¢u v·ªÅ S·ª©c kh·ªèe H√†nh vi. D·ªØ li·ªáu mang t√≠nh ch·∫•t gi√°o d·ª•c.</p>
    </footer>

    <script>
        const apiKey = "AIzaSyB9FntwCa7ChVIANwVPRGgFhf0cosb9pxE"; // API Key injected at runtime
        const state = { currentView: 'hormones', lastAiText: "" };

        function showView(viewId) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(`view-${viewId}`).classList.remove('hidden');
            
            // Update Nav
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active-link'));
            const activeNav = document.getElementById(`nav-${viewId}`);
            if (activeNav) activeNav.classList.add('active-link');

            state.currentView = viewId;
            if (viewId === 'hormones') initHormoneChart();
            if (viewId === 'social') initRadarChart();
        }

        // --- CHARTS ---
        function initHormoneChart() {
            const ctx = document.getElementById('hormoneChart').getContext('2d');
            if (window.hChart) window.hChart.destroy();
            window.hChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Dopamine', 'Testosterone', 'Cortisol', 'Prolactin'],
                    datasets: [
                        { label: 'Ng∆∞·ªùi b√¨nh th∆∞·ªùng', data: [60, 80, 40, 30], backgroundColor: '#e2e8f0' },
                        { label: 'Sau khi xem Phim', data: [95, 45, 85, 90], backgroundColor: '#f97316' }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, display: false }, x: { grid: { display: false } } },
                    plugins: { legend: { position: 'top', labels: { boxWidth: 10, font: { size: 10 } } } }
                }
            });
        }

        function initRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            if (window.rChart) window.rChart.destroy();
            window.rChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Th·∫•u c·∫£m', 'T√¥n tr·ªçng', 'K·∫øt n·ªëi c·∫£m x√∫c', 'Ki·ªÉm so√°t xung ƒë·ªông', 'Nh·∫≠n th·ª©c th·ª±c t·∫ø'],
                    datasets: [
                        { label: 'M·ªëi quan h·ªá l√†nh m·∫°nh', data: [90, 95, 85, 80, 90], borderColor: '#10b981', backgroundColor: 'rgba(16, 185, 129, 0.1)' },
                        { label: '·∫¢nh h∆∞·ªüng b·ªüi Phim', data: [30, 40, 20, 35, 25], borderColor: '#f97316', backgroundColor: 'rgba(249, 115, 22, 0.1)' }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { r: { ticks: { display: false }, grid: { color: '#f1f5f9' } } },
                    plugins: { legend: { display: false } }
                }
            });
        }

        // --- GEMINI AI ---
        async function askAI() {
            const input = document.getElementById('user-input').value.trim();
            if (!input) return;

            const btnText = document.getElementById('btn-text');
            const loader = document.getElementById('ai-loader');
            const responseBox = document.getElementById('ai-response-box');
            const output = document.getElementById('ai-text-output');

            btnText.classList.add('hidden');
            loader.classList.remove('hidden');

            const systemPrompt = "B·∫°n l√† m·ªôt chuy√™n gia v·ªÅ y h·ªçc gi·ªõi t√≠nh v√† t√¢m l√Ω h·ªçc cai nghi·ªán. H√£y gi·∫£i th√≠ch nh·ªØng t√°c ƒë·ªông kh√°c c·ªßa phim khi√™u d√¢m ngo√†i vi·ªác th·ªëi n√£o (nh∆∞ testosterone, PIED, s·ª± v·∫≠t h√≥a con ng∆∞·ªùi, tr·∫ßm c·∫£m, s∆∞∆°ng m√π n√£o). Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, khoa h·ªçc nh∆∞ng d·ªÖ hi·ªÉu, mang t√≠nh kh√≠ch l·ªá ph·ª•c h·ªìi.";
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: input }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] }
                    })
                });
                
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Xin l·ªói, t√¥i kh√¥ng th·ªÉ x·ª≠ l√Ω y√™u c·∫ßu l√∫c n√†y.";
                
                state.lastAiText = text;
                output.innerText = text;
                responseBox.classList.remove('hidden');
            } catch (error) {
                output.innerText = "L·ªói k·∫øt n·ªëi. Vui l√≤ng th·ª≠ l·∫°i.";
            } finally {
                btnText.classList.remove('hidden');
                loader.classList.add('hidden');
            }
        }

        async function speakResponse() {
            if (!state.lastAiText) return;
            const payload = {
                contents: [{ parts: [{ text: "H√£y ƒë·ªçc vƒÉn b·∫£n sau m·ªôt c√°ch nh·∫π nh√†ng v√† chuy√™n nghi·ªáp b·∫±ng ti·∫øng Vi·ªát: " + state.lastAiText.substring(0, 500) }] }],
                generationConfig: { 
                    responseModalities: ["AUDIO"],
                    speechConfig: { voiceConfig: { prebuiltVoiceConfig: { voiceName: "Aoede" } } }
                }
            };
            try {
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    body: JSON.stringify(payload)
                });
                const data = await res.json();
                const pcm = data.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;
                if (pcm) playPCM(pcm);
            } catch (e) { console.error(e); }
        }

        function playPCM(base64) {
            const binary = atob(base64);
            const len = binary.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) bytes[i] = binary.charCodeAt(i);
            const buffer = new ArrayBuffer(44 + bytes.length);
            const view = new DataView(buffer);
            const writeString = (off, s) => { for(let i=0; i<s.length; i++) view.setUint8(off+i, s.charCodeAt(i)); };
            writeString(0, 'RIFF'); view.setUint32(4, 36+bytes.length, true);
            writeString(8, 'WAVE'); writeString(12, 'fmt ');
            view.setUint32(16, 16, true); view.setUint16(20, 1, true); view.setUint16(22, 1, true);
            view.setUint32(24, 24000, true); view.setUint32(28, 48000, true);
            view.setUint16(32, 2, true); view.setUint16(34, 16, true);
            writeString(36, 'data'); view.setUint32(40, bytes.length, true);
            for(let i=0; i<bytes.length; i++) view.setUint8(44+i, bytes[i]);
            const blob = new Blob([buffer], { type: 'audio/wav' });
            new Audio(URL.createObjectURL(blob)).play();
        }

        function copyResponse() {
            const text = document.getElementById('ai-text-output').innerText;
            const temp = document.createElement('textarea');
            temp.value = text;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('copy');
            document.body.removeChild(temp);
            alert("ƒê√£ sao ch√©p v√†o b·ªô nh·ªõ t·∫°m!");
        }

        window.onload = () => showView('hormones');
    </script>
</body>
</html>